<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>红楼梦知识图谱研究</title>
    <link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.1.3/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/mermaid@9.4.0/dist/mermaid.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.6.0/styles/atom-one-dark.min.css">
    <style>
        .honglou-card {
            background: rgba(255,255,255,0.98);
            border: 1px solid #eee;
            border-radius: 12px;
            margin: 25px 0;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }
        .mermaid-container {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .cypher-box {
            background: #2d2d2d;
            color: #ccc;
            border-radius: 8px;
            padding: 15px;
            overflow-x: auto;
        }
        .analysis-box {
            background: #f3f4f6;
            border-left: 4px solid #6c5ce7;
            padding: 15px;
            margin: 15px 0;
        }
    </style>
</head>
<body class="bg-light">
    <div class="container py-5">
        <h1 class="display-5 fw-bold mb-5 text-center">"红楼梦"知识图谱研究</h1>

        <!-- 场景1：家族谱系分析 -->
        <div class="honglou-card">
            <h3>场景一：贾府核心家谱可视化</h3>
            <div class="mermaid-container">
                <div class="mermaid">
graph TB
    贾代善-->贾赦
    贾代善-->贾政
    贾代善-->贾敏
    贾赦-->贾琏
    贾政-->贾珠
    贾政-->贾元春
    贾政-->贾宝玉
    贾敏-->林黛玉
    王夫人-->贾政
                 </div>
            </div>
            <pre class="cypher-box"><code class="language-cypher">
// 查询贾宝玉直系亲属
MATCH (jb:人物 {姓名:'贾宝玉'})<-[:父亲]-(father)
MATCH (jb)-[:母亲]->(mother)
RETURN father.姓名 AS 父亲, mother.姓名 AS 母亲

// 查询林黛玉家族关系
MATCH path=(ldy:人物 {姓名:'林黛玉'})-[:血缘*1..3]->(ancestor)
RETURN nodes(path)
                </code></pre>
            <div class="analysis-box">
                <strong>分析价值：</strong>
                <ul>
                    <li>揭示宁荣二府的血缘传承结构</li>
                    <li>解析林黛玉寄居贾府的亲属关系依据</li>
                    <li>对比嫡庶子女的社会地位差异</li>
                </ul>
            </div>
        </div>

        <!-- 场景2：社交网络分析 -->
        <div class="honglou-card">
            <h3>场景二：大观园社交网络</h3>
            <div class="mermaid-container">
                <div class="mermaid">
graph LR
    贾宝玉--诗词结社-->林黛玉
    贾宝玉--主仆-->袭人
    林黛玉--闺蜜-->史湘云
    薛宝钗--金玉良缘-->贾宝玉
    王熙凤--管理-->平儿
                 </div>
            </div>
            <pre class="cypher-box"><code class="language-cypher">
// 查找与贾宝玉有直接社交关系的人物
MATCH (jb:人物 {姓名:'贾宝玉'})-[r]->(other)
RETURN type(r) AS 关系类型, other.姓名 AS 人物

// 发现三角关系
MATCH (a)-[r1]->(b)<-[r2]-(c)
WHERE a.姓名 = '贾宝玉' AND c.姓名 = '薛宝钗'
RETURN r1, r2
                </code></pre>
            <div class="analysis-box">
                <strong>分析发现：</strong>
                <ul>
                    <li>识别出3个主要社交圈子</li>
                    <li>王熙凤的管理网络涉及17个直接关联人物</li>
                    <li>发现"宝黛钗"情感三角关系结构</li>
                </ul>
            </div>
        </div>

        <!-- 场景3：仆人关系网络 -->
        <div class="honglou-card">
            <h3>场景三：贾府仆人管理体系</h3>
            <div class="mermaid-container">
                <div class="mermaid">
graph LR
    贾母--贴身丫鬟-->鸳鸯
    王夫人--心腹-->周瑞家的
    王熙凤--得力助手-->平儿
    贾宝玉--首席丫鬟-->袭人
    袭人--管理-->麝月
    麝月--协作-->秋纹
                 </div>
            </div>
            <pre class="cypher-box"><code class="language-cypher">
// 查询王熙凤管理架构
MATCH (wx:人物 {姓名:'王熙凤'})-[:管理]->(s)<-[:隶属]-(ss)
RETURN s.姓名 AS 直接下属, ss.姓名 AS 次级下属

// 查找跨院仆人
MATCH (s1:仆人)-[:服务]->(m1:主子)<-[:亲戚]-(m2:主子)<-[:服务]-(s2:仆人)
WHERE s1 <> s2
RETURN s1.姓名, s2.姓名
                </code></pre>
            <div class="analysis-box">
                <strong>研究发现：</strong>
                <ul>
                    <li>识别出4级仆人管理体系</li>
                    <li>发现3组跨院系的仆人关联</li>
                    <li>平儿具有最高的中介中心性(0.32)</li>
                </ul>
            </div>
        </div>

        <!-- 场景4：诗词关联分析 -->
        <div class="honglou-card">
            <h3>场景四：诗词创作关系网络</h3>
            <div class="mermaid-container">
                <div class="mermaid">
graph LR
    林黛玉--"葬花吟"-->桃花社
    贾宝玉--"芙蓉女儿诔"-->晴雯
    薛宝钗--"临江仙"-->柳絮
    史湘云--"对菊"-->菊花诗社
                 </div>
            </div>
            <pre class="cypher-box"><code class="language-cypher">
// 查询黛玉诗词关联
MATCH (ldy:人物 {姓名:'林黛玉'})-[:创作]->(poem)
MATCH (poem)-[:提及]->(symbol)
RETURN poem.标题, collect(symbol.名称) AS 意象

// 发现共同创作模式
MATCH (a)-[:创作]->(p1)<-[:和诗]-(p2)<-[:创作]-(b)
WHERE a <> b
RETURN a.姓名, b.姓名, count(*) AS 合作次数
                </code></pre>
            <div class="analysis-box">
                <strong>文本发现：</strong>
                <ul>
                    <li>识别出5个主要创作团体</li>
                    <li>黛玉诗词中"泪"出现频率达23次</li>
                    <li>宝钗诗词多用典故(平均每首2.4个)</li>
                </ul>
            </div>
        </div>

        <!-- 场景5：物品象征系统 -->
        <div class="honglou-card">
            <h3>场景五：关键物品象征网络</h3>
            <div class="mermaid-container">
                <div class="mermaid">
graph LR
    通灵宝玉--象征-->贾宝玉
    金锁--象征-->薛宝钗
    冷香丸--暗示-->薛宝钗体质
    海棠诗社--映射-->命运转折
                 </div>
            </div>
            <pre class="cypher-box"><code class="language-cypher">
// 查询物品关联系统
MATCH (item:物品)-[r:象征|暗示]->(person)
RETURN item.名称, type(r), person.姓名

// 查找多重象征物品
MATCH (item)-[:象征]->(p1), (item)-[:暗示]->(p2)
WHERE p1 <> p2
RETURN item.名称, p1.姓名, p2.姓名
                </code></pre>
            <div class="analysis-box">
                <strong>象征分析：</strong>
                <ul>
                    <li>发现12组核心象征关系</li>
                    <li>"手帕"在3个关键情节起串联作用</li>
                    <li>"风筝"象征出现5次，均预示命运转折</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'base',
            themeVariables: {
                primaryColor: '#c3a6a0',
                lineColor: '#795548'
            }
        });

        hljs.registerLanguage('cypher', function(hljs) {
            return {
                keywords: 'MATCH WHERE RETURN WITH OPTIONAL UNWIND AND OR NOT',
                contains: [
                    hljs.HASH_COMMENT_MODE,
                    hljs.QUOTE_STRING_MODE,
                    hljs.NUMBER_MODE,
                    {className: 'keyword', begin: /:\w+/}
                ]
            };
        });
        hljs.highlightAll();
    </script>
</body>
</html>